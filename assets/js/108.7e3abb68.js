(window.webpackJsonp=window.webpackJsonp||[]).push([[108],{627:function(t,e,s){"use strict";s.r(e);var a=s(8),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"frontmatter-title"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#frontmatter-title"}},[t._v("#")]),t._v(" "+t._s(t.$frontmatter.title))]),t._v(" "),s("TocHeader"),t._v(" "),s("TOC",{staticClass:"table-of-contents",attrs:{"include-level":[2,3]}}),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("Please Note")]),t._v(" "),s("p",[t._v("The recommended way to deploy Airnode is by using the Deployer Docker image. This package simply implements the CLI used by that image and is not meant to be used directly by the end user.")]),t._v(" "),s("p",[t._v("See "),s("RouterLink",{attrs:{to:"/next/grp-providers/guides/provider/deploying-airnode.html"}},[t._v("Deploying Airnode")]),t._v(" to deploy using Docker.")],1)]),t._v(" "),s("Fix",[t._v("This page needs to be looked over again when all dev branches have been merged to master.")]),t._v(" "),s("h2",{attrs:{id:"prerequisites"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[t._v("#")]),t._v(" Prerequisites")]),t._v(" "),s("ul",[s("li",[t._v("Install "),s("a",{attrs:{href:"https://www.terraform.io/downloads.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Terraform >= v0.15.x"),s("OutboundLink")],1),t._v(" and make sure that the "),s("code",[t._v("terraform")]),t._v(" binary is available in your "),s("code",[t._v("PATH")])]),t._v(" "),s("li",[t._v("Make sure your AWS credentials are stored in the "),s("a",{attrs:{href:"https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-files.html#cli-configure-files-where",target:"_blank",rel:"noopener noreferrer"}},[t._v("configuration file"),s("OutboundLink")],1),t._v(" or exported as "),s("a",{attrs:{href:"https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-envvars.html#envvars-set",target:"_blank",rel:"noopener noreferrer"}},[t._v("environment variables"),s("OutboundLink")],1),t._v(". If you need help setting up an AWS IAM user you can follow "),s("a",{attrs:{href:"https://www.youtube.com/watch?v=bT19B3IBWHE",target:"_blank",rel:"noopener noreferrer"}},[t._v("this video tutorial"),s("OutboundLink")],1),t._v(".")])]),t._v(" "),s("h2",{attrs:{id:"setup"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setup"}},[t._v("#")]),t._v(" Setup")]),t._v(" "),s("ul",[s("li",[t._v("Build all the Airnode packages")])]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Run from the root")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" build\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("ul",[s("li",[t._v("Make sure "),s("code",[t._v("config.json")]),t._v(" and "),s("code",[t._v("secrets.env")]),t._v(" are available in the "),s("code",[t._v("config")]),t._v(" directory. You can use the provided example "),s("code",[t._v("config.json")]),t._v(" and "),s("code",[t._v("secrets.env")]),t._v(" templates to get started quickly, but you will need to edit these with your own API details and secrets.")])]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# From this package (/packages/deployer)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" config/config.json.example config/config.json\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" config/secrets.env.example config/secrets.env\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Edit both `config.json` and `secrets.env` to reflect your configuration")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("h2",{attrs:{id:"common-user-flow"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#common-user-flow"}},[t._v("#")]),t._v(" Common user flow")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("Use the "),s("code",[t._v("deploy")]),t._v(" command for your first deployment.")]),t._v(" "),s("p",[s("strong",[t._v("Write down the displayed mnemonic and safely store the outputted receipt file.")])]),t._v(" "),s("p",[t._v("Fund the master wallet address with the displayed amount to set your Airnode parameters.")])]),t._v(" "),s("li",[s("p",[t._v("In order to update the Airnode configuration:")]),t._v(" "),s("ul",[s("li",[t._v("Update the "),s("code",[t._v("config.json")]),t._v(" file")]),t._v(" "),s("li",[t._v("Ensure the "),s("code",[t._v("AIRNODE_WALLET_MNEMONIC")]),t._v(" value in "),s("code",[t._v("secrets.env")]),t._v(" has your previously generated mnemonic phrase")]),t._v(" "),s("li",[t._v("Run the "),s("code",[t._v("deploy")]),t._v(" command again")])])]),t._v(" "),s("li",[s("p",[t._v("Use the "),s("code",[t._v("remove")]),t._v(" command to remove the Airnode deployment. Use the "),s("code",[t._v("-r")]),t._v(" option to provide the receipt file from the latest deployment.")])])]),t._v(" "),s("h2",{attrs:{id:"commands"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#commands"}},[t._v("#")]),t._v(" Commands")]),t._v(" "),s("h3",{attrs:{id:"deploy"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#deploy"}},[t._v("#")]),t._v(" deploy")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("Deploys an Airnode instance using the "),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),t._v("config.json"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v(" and "),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),t._v("secrets.env"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v(" files. \nThis can be used "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" a new deployment or to update an existing deployment.\n\nOptions:\n      --version                          Show version number          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("boolean"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      --debug                            Run "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" debug mode            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("boolean"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("default: false"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      --help                             Show "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("help")]),t._v("                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("boolean"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  -c, --configuration, --config, --conf  Path to configuration "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("default: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"config/config.json"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  -s, --secrets                          Path to secrets "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("default: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"config/secrets.env"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  -r, --receipt                          Output path "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" receipt "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("default: "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"output/receipt.json"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("h3",{attrs:{id:"remove"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#remove"}},[t._v("#")]),t._v(" remove")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("Removes a deployed Airnode instance\n\nOptions:\n      --version         Show version number           "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("boolean"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      --debug           Run "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" debug mode             boolean"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("default: false"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      --help            Show "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("help")]),t._v("                     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("boolean"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  -r, --receipt         Path to receipt "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  -a, --airnodeIdShort  Airnode ID "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("short version"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  -s, --stage           Stage "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("environment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("           "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  -c, --cloudProvider   Cloud provider                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  -e, --region          Region                        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])])],1)}),[],!1,null,null,null);e.default=n.exports}}]);