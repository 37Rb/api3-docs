(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{600:function(a,s,t){"use strict";t.r(s);var e=t(8),r=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"frontmatter-title"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#frontmatter-title"}},[a._v("#")]),a._v(" "+a._s(a.$frontmatter.title))]),a._v(" "),t("TocHeader"),a._v(" "),t("TOC",{staticClass:"table-of-contents",attrs:{"include-level":[2,3]}}),a._v(" "),t("ol",[t("li",[a._v("Build the Docker image")])]),a._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("docker build "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v(" -t api3/airnode-deployer:latest\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[t("p",[a._v("Ensure that your "),t("code",[a._v(".env")]),a._v(" file looks like "),t("a",{attrs:{href:"https://github.com/api3dao/airnode/blob/pre-alpha/packages/deployer/.env.example",target:"_blank",rel:"noopener noreferrer"}},[a._v(".env.example"),t("OutboundLink")],1),a._v(" and is the current working directory.")])]),a._v(" "),t("li",[t("p",[a._v("When running "),t("RouterLink",{attrs:{to:"/next/grp-providers/guides/depr-docker/deployer-image.html#deploy"}},[a._v("deploy")]),a._v(" your "),t("code",[a._v("config.json")]),a._v(" and "),t("code",[a._v("security.json")]),a._v(" must be in the current working directory.\n(They are also needed for other commands temporarily.)")],1)]),a._v(" "),t("li",[t("p",[a._v("Run the image with one of the following commands:")])])]),a._v(" "),t("h2",{attrs:{id:"deploy"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#deploy"}},[a._v("#")]),a._v(" "),t("code",[a._v("deploy")])]),a._v(" "),t("Tabs",{attrs:{type:"border-card"}},[t("Tab",{attrs:{label:"Linux/Mac"}},[t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("docker run -it --rm "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  --env-file aws.env "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("USER_ID")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("id")]),a._v(" -u"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v(" -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("GROUP_ID")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("id")]),a._v(" -g"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -v "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("pwd")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("/output:/app/output "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  api3/deployer:latest deploy\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br")])])]),a._v(" "),t("Tab",{attrs:{label:"Windows"}},[t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("docker run -it --rm ^\n  --env-file .env ^\n  --env "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("COMMAND")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("deploy-first-time ^\n  -v "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"%cd%"')]),a._v("/output:/app/output ^\n  api3/deployer:latest deploy\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br")])])])],1),a._v(" "),t("h2",{attrs:{id:"remove"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#remove"}},[a._v("#")]),a._v(" "),t("code",[a._v("remove")])]),a._v(" "),t("Tabs",{attrs:{type:"border-card"}},[t("Tab",{attrs:{label:"Linux/Mac"}},[t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("docker run -it --rm "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  --env-file aws.env "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("USER_ID")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("id")]),a._v(" -u"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v(" -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("GROUP_ID")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("id")]),a._v(" -g"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  -v "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("pwd")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("/output:/app/output "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  api3/deployer:latest remove -r output/receipt.json\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br")])])]),a._v(" "),t("Tab",{attrs:{label:"Windows"}},[t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[a._v("docker run -it --rm ^\n  --env-file aws.env ^\n  -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("USER_ID")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("id")]),a._v(" -u"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v(" -e "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("GROUP_ID")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("id")]),a._v(" -g"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v(" ^\n  -v "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"%cd%"')]),a._v("/output:/app/output ^\n  api3/deployer:latest remove -r output/receipt.json\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br")])])])],1)],1)}),[],!1,null,null,null);s.default=r.exports}}]);